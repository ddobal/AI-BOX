---
layout: post
title: "OpenCV로 만드는 실시간 포즈 시스템"
date: 2025-12-05
category: "Pose Estimation"
tags: [opencv, movenet, pose, realtime]
---

실시간 포즈 인식 시스템은  
“카메라 스트림 + 경량 모델 + 최적화”의 조합이 핵심이다.  
이 글은 MoveNet + OpenCV를 이용해  
간단한 실시간 포즈 시스템을 만든 과정과 메모이다.

---

## 1. 전체 구조

구조는 크게 네 파트로 나눌 수 있다.

1. 카메라 캡처 (OpenCV `VideoCapture`)
2. 프레임 전처리 (Resize, Normalize, Tensor 변환)
3. MoveNet 추론
4. 결과를 화면에 그리기 (스켈레톤, keypoint 등)

각 단계가 밀리초 단위로 반복되기 때문에  
작은 비효율도 곧바로 FPS 저하로 이어진다.

---

## 2. 모델 선택: MoveNet

MoveNet은 다음 이유로 선택했다.

- 경량 + 실시간 처리가 가능
- 다양한 구현체와 예제가 많음
- 정확도 vs 속도 밸런스가 좋다

실습 결과,  
적당한 해상도(예: 256x256)로 입력을 맞추면  
데스크톱 환경에서 충분히 실시간으로 동작하는 것을 확인했다.

---

## 3. FPS 최적화 포인트

실험하면서 체감한 최적화 방법들:

- 카메라 해상도 너무 크게 쓰지 않기  
  → 입력 해상도와 모델 속도 간 밸런스 조정
- 불필요한 `cv2.imshow` 호출, 디버그 출력 줄이기
- GPU가 있다면 Torch/TensorFlow에서 GPU 사용 활성화

특히 “처음에는 잘 되다가 시간이 지나면 버벅임” 같은 현상은  
중간에 메모리 관리가 제대로 안 되어서 발생하기도 했다.

---

## 4. 동작 인식 간단 로직

포즈 keypoint가 잡히면,  
간단한 동작 인식도 가능하다.

예를 들어:

- 손 좌표(Y)가 머리보다 위에 올라간 경우 → “손 들기”
- 양 팔이 특정 각도 범위에 위치하는지 체크 → “T자 포즈”

이제 이걸 조건문으로 연결하면  
심플한 “동작 인식” 시스템이 된다.

---

## 5. 정리 및 다음 단계

- MoveNet + OpenCV 조합만으로도  
  꽤 흥미로운 실시간 시스템을 구현할 수 있다.
- 다음 단계로는:
  - 여러 사람 동시 인식
  - 포즈 기반 게임/피드백 시스템
  - 동작 시퀀스를 분석하는 모델 연결  
  등을 시도해볼 계획이다.
